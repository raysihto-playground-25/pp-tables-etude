# ストーリーカード運用ガイド

本ドキュメントは、ストーリーカードとユーザーストーリーに関する一般的・汎用的な概念を定義する。これらは本プロジェクトを支える確定事項として、プロジェクト固有の仕様とは独立して管理される。

---

## 目次

1. [ストーリーカードとユーザーストーリーの関係](#ストーリーカードとユーザーストーリーの関係)
2. [ストーリーカードのフォーマット要素](#ストーリーカードのフォーマット要素)
3. [ユーザーロール運用ガイドライン](#ユーザーロール運用ガイドライン)
4. [PBI (Product Backlog Item) の概念](#pbi-product-backlog-item-の概念)
5. [5W2H フレームワークとの関係性](#5w2h-フレームワークとの関係性)

---

## ストーリーカードとユーザーストーリーの関係

### 基本的な関係性

- **ユーザーストーリー** (または PBI: Product Backlog Item) は、開発時に管理される単位である
- **ストーリーカード**は、ユーザーストーリーを記述するための記法・情報であり、ユーザーストーリーに含まれる
- ストーリーカード自体を単体で管理することはなく、ユーザーストーリー/PBI として管理する

### 用語の階層

```
プロダクトバックログ
  └── PBI (Product Backlog Item) / チケット
        ├── ユーザーストーリー
        │     └── ストーリーカード (記法・情報)
        ├── バグ修正
        ├── スパイク
        └── タスク
```

---

## ストーリーカードのフォーマット要素

### 基本フォーマット

```
{role} は、 {action} したい。 {benefit} (の) ために。
```

各プレースホルダーと半角スペース、句読点の位置は固定である。

### 各要素の定義

#### {role}: ユーザーロール

ユーザーロールは、単なる「ユーザー分類」ではなく、**特定の状況に置かれた主役**を表す。

**基本原則:**
- ストーリーの主語となるユーザーの立場・役割を表す
- 定義済みユーザーロールリストから選択する (新規ロールの追加は仕様変更として扱う)
- カードの記述や開発時の揺れやブレを防ぐため、自由記述は許可しない
- 人・役職・権限名に限定されず、必要に応じて **when / where / condition (状況・文脈)** を含めてよい

**ロールの本質:**

ユーザーロールとは、特定の状況に置かれ、その状況特有の**痛み・期待・不安**を持ち、それによって**行動や判断が変わる主役**を表す。

**例:**
- 初回ユーザー (when を含む: 初めて使用する状況)
- 移動中のユーザー (where を含む: 移動中という場所的制約)
- 障害対応中の管理者 (condition を含む: 緊急対応という状況)

これらは、それぞれ異なる期待や切迫感を持ち、優先順位や要件が変わるため、ロールとして扱う理由がある。

#### {action}: 実現したいこと

- ユーザーが行いたい行動や操作を動詞形式で記述する
- 具体的かつ明確に、ユーザー視点で記述する
- 実装手段ではなく、ユーザーの意図を記述する

#### {benefit}: 理由・価値

- なぜそれを行いたいのか、その背景にある理由や得られる価値を記述する
- ビジネス価値、ユーザー体験の向上、問題解決など、その機能がもたらす本質的な価値を明確にする
- この要素により、実装の優先順位や方法の判断が可能になる

---

## ユーザーロール運用ガイドライン

### 目的

本ガイドラインは、ユーザーストーリーにおけるユーザーロール ({role}) を通じて、以下をチーム内で瞬時に共有できる状態を作ることを目的とする：

- **このストーリーは「誰の、どんな状況の課題か」**
- **なぜ今それが必要なのか**

その結果として、意味のない重複、似たようなストーリーの混在、判断のブレを避ける。

### 新しいユーザーロールを追加するかの判断基準

新しいユーザーロールを追加するかどうかは、**開発上の判断が変わるか**を軸に判断する。

#### 1. 優先順位の判断が変わるか

- 他のロールと比べて「後回しにできない」「先にやるべき」と判断が分かれるか
- 分かれるなら、ロールを分ける意味がある

#### 2. Action の質や要件が変わるか

- 同じ action 名でも、求められる速さ・分かりやすさ・安心感・失敗時の扱いが変わるか
- 変わるなら、別ロールとして扱う

#### 3. 「なぜそれが必要か」が変わるか

- 同じ機能でも、目的・背景・切実さが異なるか
- 異なるなら、同一ロールにまとめない

### ロールにしない判断

以下の場合は、新しいロールを作らない：

- 状況は違うが、優先順位・Action の要件・なぜ必要かが変わらない場合
- 単なる条件差・制約差であり、行動や判断に影響しない場合

これらはロールではなく、**受け入れ条件 (Acceptance Criteria)** や**仕様上のケース分け**として扱う。

### 運用ルール

- ユーザーロールは事前定義リストから選択する
- 新規ロールを追加する場合は、上記判断基準に照らして検討する
- プロジェクトの仕様書の定義済みユーザーロールリストに追加し、仕様変更として扱う
- 迷った場合は、「この違いで、開発の判断は本当に変わるか？」に立ち戻る
- ユーザーストーリーは定期的に見直し、優先順位の再評価を行う
- エンドユーザーの価値を最大化することを常に念頭に置き、バックログの優先順位付けを行う

### 要点

- ユーザーロールは「人」ではなく**状況を伴う主役**
- 判断が変わるかどうかが、唯一の基準
- 変わらないなら、ロールではない

---

## PBI (Product Backlog Item) の概念

### PBI の定義

- **PBI (Product Backlog Item)** は、プロダクトバックログで管理される個別のアイテムを指す
- **チケット**とも呼ばれ、PBI とチケットは等価な関係にある
- 開発管理ツール (GitHub Issues、Jira など) で管理される単位

### PBI の種類

PBI は以下の種類を含む上位概念である：

#### 1. ユーザーストーリー (または単に「ストーリー」)

- ユーザー視点での機能要求を記述したもの
- ストーリーカードを含む
- プロダクト価値に直結する

#### 2. バグ修正

- 既存機能の不具合を修正するためのアイテム
- 再現手順、期待される動作、実際の動作などを含む

#### 3. スパイク

- 技術調査や検証を行うためのアイテム
- 不確実性を減らし、見積もり精度を向上させる目的

#### 4. タスク

- 技術的な作業やメンテナンス作業
- ユーザー価値に直結しない作業項目

### PBIs (複数形) とプロダクトバックログ

- **PBIs** (複数形) は、プロダクトバックログに含まれる複数のアイテムを指す
- プロダクトバックログそのものとほぼ等価な意味で用いられる
- 複数のアイテムを明確に指す場合に使用される

---

## 5W2H フレームワークとの関係性

### 5W2H フレームワーク

- **Who** (誰が): 主体・対象者
- **What** (何を): 内容・対象
- **When** (いつ): 時期・タイミング
- **Where** (どこで): 場所・環境
- **Why** (なぜ): 理由・目的
- **How** (どのように): 方法・手段
- **How much** (いくら): 費用・規模

### ストーリーカードフォーマットとの対応

```
{role} は、 {action} したい。 {benefit} (の) ために。
```

このフォーマットは以下の 5W2H 要素をカバーしている：

#### 1. {role} に含まれる要素

ユーザーロールは、単一の 5W2H 要素に対応するのではなく、**複数の要素を統合した概念**である：

- **Who (誰が)**: ロールの基本 - ユーザーの立場や役割
- **When (いつ)**: 必要に応じてロールに含める - 例: 「初回ユーザー」
- **Where (どこで)**: 必要に応じてロールに含める - 例: 「移動中のユーザー」「モバイルユーザー」
- **Condition (状況)**: 必要に応じてロールに含める - 例: 「障害対応中の管理者」

**重要な考え方:**

ロールは「人 (Who)」だけではなく、**その人が置かれた状況 (When/Where/Condition) を含めた主役**として定義する。これにより：

- 同じ人物でも、状況が異なれば優先順位や要件が変わることを表現できる
- 「開発者」と「移動中の開発者」は、異なる期待や制約を持つため、別ロールとして扱える
- 5W2H の複数要素を組み合わせることで、より正確に「誰の、どんな状況の課題か」を特定できる

#### 2. {action} = What (何を)

- 実現したいこと、行いたい行動を記述
- 動詞形式で具体的に表現
- 例: 「投票結果を一覧表示したい」

#### 3. {benefit} = Why (なぜ)

- 理由・価値を記述
- ビジネス価値やユーザー体験の向上を明確化
- 例: 「チーム全体の見積もり傾向を把握するために」

### 明示的に含まれない要素

- **When (いつ)** / **Where (どこで)**: ストーリーカードでは、{role} の一部として表現するか、実装の優先順位やスプリント計画で別途管理する
- **How (どのように)**: ストーリーカードでは記述しない。実装の詳細は開発時に決定する (ユーザー視点を保つため)
- **How much (いくら)**: ストーリーポイント見積もりで別途管理する

### フォーマット表記の検討

#### 代替案 1: 5W2H 要素を明示的に使用

```
Who: {role}, When: {when}, は、 What: {action} したい。 Why: {benefit} (の) ために。
```

- メリット: 各要素の対応が明確
- デメリット: 冗長で自然な日本語にならない、すべての要素が常に必要とは限らない

#### 代替案 2: 日本語の疑問詞表記

```
{誰が} は、 {何を} したい。 {なぜ} (の) ために。
```

- メリット: 意味が直感的に理解しやすい
- デメリット: 「誰がは」という不自然な表現、 when/where を含められない

#### 代替案 3: 業界標準プレースホルダー (採用)

```
{role} は、 {action} したい。 {benefit} (の) ために。
```

**メリット:**
- role/action/benefit は業界標準のプレースホルダーとして広く認識されている
- {role} に when/where/condition を柔軟に含められる
- 日本語として自然な文章構造を維持
- 読み手が内容に集中できる
- 定義済みリストと組み合わせることで一貫性を確保

**デメリット:**
- 初見では各要素の意味を説明する必要がある (ただし一度理解すれば解決)

### 採用理由

1. **柔軟性**: {role} が who だけでなく when/where/condition を含められることで、状況に応じた適切な表現が可能

2. **自然な日本語**: 「{role} は、 {action} したい。 {benefit} のために。」という文章構造は日本語として自然で読みやすい

3. **業界標準**: role/action/benefit は多くのアジャイル開発チームで使用されている標準的なプレースホルダー

4. **フォーカスの明確化**: ストーリーカードは Who (+ when/where/condition) / What / Why に絞ることで、ユーザー価値に集中できる

5. **実用性**: When/Where は {role} に統合し、How/How much は別の管理手段で扱うことで、適切な情報分離を実現

---

**本ドキュメントの位置づけ:**

本ドキュメントは、ストーリーカードとユーザーストーリーに関する一般的・汎用的な概念を定義している。プロジェクト固有のユーザーロール定義や優先順位付けルールは、各プロジェクトの仕様書で定義される。
